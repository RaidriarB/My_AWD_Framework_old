# AWD框架 开发文档

## 预期功能

你需要修改

core/submit/submit.py的提交flag逻辑

core/payload/...中的攻击逻辑

在每一轮打的时候，只需要执行这个，就可以全面攻击
```python
cd core
python3 main.py
```
运行结果:
```
[!] 初始化完成，iplist为
['172.17.1.1', '172.17.2.1', '172.17.3.1']
准备进攻全场
使用攻击脚本: 【attack_test1】
========================================
[+] 获取flag中...
------------------------------
[√] 主机 172.17.1.1 的flag获取成功！
flag{host_is_http://172.17.1.1:8080}
------------------------------
[x] 主机 172.17.2.1 的flag没有获取到
------------------------------
[√] 主机 172.17.3.1 的flag获取成功！
flag{host_is_http://172.17.3.1:8080}
------------------------------
========================================
使用攻击脚本: 【attack_error_test1】
========================================
[+] 获取flag中...
------------------------------
攻击脚本出错！出错脚本为【attack_error_test1】
方法出错：attack_error_test1
========================================
使用攻击脚本: 【attack_test2】
========================================
[+] 获取flag中...
------------------------------
[√] 主机 172.17.1.1 的flag获取成功！
flag{ip_is_172.17.1.1}
------------------------------
[√] 主机 172.17.2.1 的flag获取成功！
flag{ip_is_172.17.2.1}
------------------------------
[√] 主机 172.17.3.1 的flag获取成功！
flag{ip_is_172.17.3.1}
------------------------------
========================================
进攻完毕，flag汇总如下
[[('172.17.1.1', 'flag{host_is_http://172.17.1.1:8080}'),
  ('172.17.3.1', 'flag{host_is_http://172.17.3.1:8080}')],
 [('172.17.1.1', 'flag{ip_is_172.17.1.1}'),
  ('172.17.2.1', 'flag{ip_is_172.17.2.1}'),
  ('172.17.3.1', 'flag{ip_is_172.17.3.1}')]]
提交所有flag
[√] 主机172.17.1.1的flag提交成功！
[√] 主机172.17.3.1的flag提交成功！
[√] 主机172.17.1.1的flag提交成功！
[x] 主机172.17.2.1的flag提交失败！
[√] 主机172.17.3.1的flag提交成功！
本轮提交完成，成功提交4个，失败提交1个

```
## 文件说明

conf：各种配置文件

payload：自己写的攻击脚本

flag：存放打好的flag

flag/current_flag：本轮的flag

flag/backup：之前flag备份文件

core：核心文件

core/attack：攻击主机，返回flag

core/submit：把flag提交上去

core/utils：一些通用功能

core/payload：你编写的用于攻击的payload